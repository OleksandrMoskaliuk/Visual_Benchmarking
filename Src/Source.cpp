//Visualise your benchmarking!
//Use your browser Chrome
//Go to <chrome://tracing>
//Then Load result.json generated by this program

#include "Source.h"

#define PROFILE 1
#if PROFILE 1
#define PROFILE_SCOPE(name) InstrumentationTimer timer##__LINE__(name);
#define PROFILE_FUNC() PROFILE_SCOPE(__FUNCSIG__)
#else
#define PROFILE_FUNC() 
#endif // PROFILE_FUNC 1



void Func_1();
void Func_2();

void RunBenchmarks() 
{
	PROFILE_FUNC();
	Func_1();
	Func_2();
}

int main()
{
	Instrumentor::Get().BeginSession("Profile");
	RunBenchmarks();
	Instrumentor::Get().EndSession();

}


void Func_1() 
{
	InstrumentationTimer timer("fun1");

	for (int i = 0; i < 100; ++i)
	{
		std::cout << "\nHello World!";
	}
	
}

void Func_2()
{
	InstrumentationTimer timer("fun2");
	for (int i = 0; i < 100; i++)
	{
		std::cout << "\nHello World!";
	}

}

